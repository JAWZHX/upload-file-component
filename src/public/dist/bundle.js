!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){var o=t(1);document.querySelector(".upload-component").innerHTML=o.template,o.init()},function(e,n){var t={template:'<div class="upload">\n  <div class="upload-container">\n    <button id="upload-btn">上传文件</button>\n    <div class="clear"></div>\n    <input type="file" name="file-upload" id="file-upload" multiple style="display:none;">\n    <div class="tip-box">\n      <span class="iconfont icon-select-file"></span>\n      <p>请点击选择文件</p>\n    </div>\n    <div class="file-box">\n\n    </div>\n    <div class="success-box">\n      <span>ヽ(✿ﾟ▽ﾟ)ノ上传成功啦！！！</span><br>\n      <button>继续上传</button>\n    </div>\n    <div class="line"></div>\n    <div id="progress">\n      <div class="progress-bg">\n        <div class="progress-active" data-percent="0%"></div>\n      </div>\n    </div>\n  </div>\n</div>',init:function(){var e=[],n=document.getElementById("file-upload"),t=document.getElementById("upload-btn"),o=document.querySelector(".tip-box"),i=document.querySelector(".file-box"),l=document.querySelector(".progress-active"),r=document.querySelector(".success-box");r.querySelector("button").addEventListener("click",function(e){r.style.display="none",o.style.display="block",l.style.width=0,l.setAttribute("data-percent","0%")},!1);var a={pdf:{icon:"icon-pdf",color:"red"},jpeg:{icon:"icon-jpg",color:"#D4237A"},json:{icon:"icon-json",color:"#26E8ED"},plain:{icon:"icon-txt",color:"#78AFF3"},png:{icon:"icon-png",color:"#1E7345"},file:{icon:"icon-file",color:"#1AFA29"},gif:{icon:"icon-gif",color:"#25C28F"}};function c(e,n,t,o){var l=document.createElement("div");l.className="file";var r=document.createElement("span");r.classList.add("file-img"),r.classList.add("iconfont"),r.classList.add(e),r.style.color=t;var a=document.createElement("span");a.classList.add("iconfont"),a.classList.add("icon-delete"),r.appendChild(a);var c=document.createElement("span");c.className="file-name",c.innerText=n,l.appendChild(r),l.appendChild(c),l.setAttribute("data-name",n),i.appendChild(l)}o.addEventListener("click",function(e){n.click()},!1),n.addEventListener("change",function(t){e=n.files,i.style.display="block",o.style.display="none";for(var l=0;l<e.length;l++){var r=e[l].name,d=e[l].type.split("/")[1],s=a.file.icon,u=a.file.color;-1!==Object.keys(a).indexOf(d)&&(s=a[d].icon,u=a[d].color),c(s,r,u)}},!1),t.addEventListener("click",function(t){for(var o=new FormData,a=0;a<e.length;a++)o.append("file"+a,e[a],e[a].name);var c=new XMLHttpRequest;c.upload.addEventListener("load",function(t){n.value="",e=[],i.innerHTML="",i.style.display="none",r.style.display="block"},!1),c.upload.addEventListener("progress",function(e){if(e.lengthComputable){var n=Math.round(e.loaded/e.total*100)+"%";l.style.width=n,l.setAttribute("data-percent",n)}},!1),c.upload.addEventListener("abort",function(e){console.log("abort"),console.log(e)},!1),c.upload.addEventListener("error",function(e){console.log("error"),console.log(e)},!1),c.open("post","/uploadFile",!0),c.send(o)},!1),i.onclick=function(n){if(-1!==Array.prototype.slice.call(n.target.classList).indexOf("icon-delete")){var t=n.target.parentNode.parentNode,o=t.getAttribute("data-name");this.removeChild(t),e=Array.prototype.slice.call(e);for(var i=0;i<e.length;i++)e[i].name===o&&e.splice(parseInt(i),1)}}}};e.exports=t}]);